"use strict";(()=>{var i=2,d=["a","an","the"],m=`${window.location.origin}/index.json`,e=null,n="",t=null,s=null,o=null;function h(e,t){const n=performance.now();fetch(e).then(e=>e.json()).then(s=>{console.info(`JSON index fetched at ${e} in ${(performance.now()-n).toFixed(2)}ms.`),t(s.data)}).catch(n=>{console.error(`Failed to fetch JSON index at ${e}: ${n.message}`),t({})})}function l(){if(e!==null)return;h(m,t=>{if(t&&t.hasOwnProperty("icons")){const s=t.icons.map(e=>({name:e.name,normalizedName:r(e.name),path:e.path,freedesktop:e.freedesktop,tags:e.tags}));e=s,n.length>i&&a()}else e=null,n=""})}function a(){if(e==null||e.length==0)return;const t=v(n,e);u(t)}function u(e){e.length>0?o.style.display="none":o.style.display="block";const t=s.getElementsByTagName("tr");for(const n of t){const s=n.dataset.name,o=e.find(e=>e.name===s);n.style.display=o?"table-row":"none"}}function r(e){let t=e.trim();return t=t.replace(/[^\w\s]|_/g," ").replace(/\s+/g," "),t=t.toLowerCase(),t}function c(e){return e.split(" ").filter(e=>!d.includes(e)&&e.length>=i)}function f(e,t,n){let s=0;return n.normalizedName.includes(e)&&(s+=100),t.forEach(e=>{n.normalizedName.includes(e)&&(s+=3),n.tags.forEach(t=>{t.includes(e)&&(s+=1)})}),{name:n.name,score:s}}function p(e){return e.score>0}function g(e,t){return e.score<t.score?1:e.score>t.score?-1:e.name<t.name?-1:e.name>t.name?1:0}function v(e,t){if(t==null||!Array.isArray(t)||t.length===0)return[];if(e.length<i)return t;const n=r(e);console.log(`Normalized input: ${n}`);const a=c(n),l=t.map(e=>f(n,a,e)),s=l.filter(p);console.log(`Matches: ${s.length}`);const o=s.sort(g);console.log(o);const d=o.slice(0,100);return d}function b(e,t){const n=document.createElement("a");n.style.display="none",n.href=t,n.download=e,document.body.appendChild(n),n.click(),document.body.removeChild(n)}function j(){const e=s.getElementsByTagName("tr");for(const t of e){const n=t.getElementsByTagName("td"),s=n[0];s.addEventListener("click",()=>{const e=`${t.dataset.name}.svg`,n=`${window.location.origin}/${t.dataset.url}`;b(e,n)})}}function y(){t.addEventListener("focusin",()=>{l()}),t.addEventListener("input",()=>{t.value!=n&&(n=t.value,a())})}document.addEventListener("DOMContentLoaded",function(){if(t=document.getElementById("searchbox"),!t)return;if(s=document.getElementById("list"),!s)return;if(o=document.getElementById("noresults"),!o)return;y(),j()})})()