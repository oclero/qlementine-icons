"use strict";(()=>{var a="https://oclero.github.io/qlementine-icons/",i=2,m=["a","an","the"],u=a+"index.json",e=null,n="",t=null,s=null,o=null;function d(e,t){const n=performance.now();fetch(e).then(e=>e.json()).then(s=>{console.info(`JSON index fetched at ${e} in ${(performance.now()-n).toFixed(2)}ms.`),t(s.data)}).catch(n=>{console.error(`Failed to fetch JSON index at ${e}: ${n.message}`),t({})})}function l(){if(e!==null)return;d(u,t=>{if(t&&t.hasOwnProperty("icons")){const s=t.icons.map(e=>({name:e.name,normalizedName:r(e.name),path:e.path,freedesktop:e.freedesktop,tags:e.tags}));e=s,n.length>i&&c()}else e=null,n=""})}function c(){if(e==null||e.length==0)return;const t=b(n,e);h(t)}function h(e){e.length>0?o.style.display="none":o.style.display="block";const t=s.getElementsByTagName("tr");for(const n of t){const s=n.dataset.name,o=e.find(e=>e.name===s);n.style.display=o?"table-row":"none"}}function r(e){let t=e.trim();return t=t.replace(/[^\w\s]|_/g," ").replace(/\s+/g," "),t=t.toLowerCase(),t}function f(e){return e.split(" ").filter(e=>!m.includes(e)&&e.length>=i)}function p(e,t,n){let s=0;return n.normalizedName.includes(e)&&(s+=100),t.forEach(e=>{n.normalizedName.includes(e)&&(s+=3),n.tags.forEach(t=>{t.includes(e)&&(s+=1)})}),{name:n.name,score:s}}function g(e){return e.score>0}function v(e,t){return e.score<t.score?1:e.score>t.score?-1:e.name<t.name?-1:e.name>t.name?1:0}function b(e,t){if(t==null||!Array.isArray(t)||t.length===0)return[];if(e.length<i)return t;const n=r(e);console.log(`Normalized input: ${n}`);const a=f(n),c=t.map(e=>p(n,a,e)),s=c.filter(g);console.log(`Matches: ${s.length}`);const o=s.sort(v);console.log(o);const l=o.slice(0,100);return l}function j(e,t){const n=document.createElement("a");n.style.display="none",n.href=t,n.download=e,document.body.appendChild(n),n.click(),document.body.removeChild(n)}function y(){const e=s.getElementsByTagName("tr");for(const t of e){const n=t.getElementsByTagName("td"),s=n[0];s.addEventListener("click",()=>{const e=`${t.dataset.name}.svg`,n=a+t.dataset.url;j(e,n)})}}function _(){t.addEventListener("focusin",()=>{l()}),t.addEventListener("input",()=>{t.value!=n&&(n=t.value,c())})}document.addEventListener("DOMContentLoaded",function(){if(t=document.getElementById("searchbox"),!t)return;if(s=document.getElementById("list"),!s)return;if(o=document.getElementById("noresults"),!o)return;_(),y()})})()